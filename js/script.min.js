"use strict";const LAPTOP_WIDTH_MEDIA_QUERY="(min-width: 1260px)";function debounce(e,t=500){let i;return(...s)=>{clearTimeout(i),i=setTimeout((()=>e.apply(this,s)),t)}}function initBurger(e,t){const i="burger--open";e.addEventListener("click",(s=>{s.preventDefault(),e.classList.toggle(i),e.ariaExpanded=e.classList.contains(i),t()}))}function initCertificatesList(e){const t=e.querySelector(".certificates-list__item"),i=e.querySelector(".certificates-list__button"),s=()=>{e.classList.remove("certificates-list--short"),setTimeout((()=>{e.offsetHeight>t.offsetHeight&&e.classList.add("certificates-list--short")}),0)};s(),window.addEventListener("resize",debounce(s)),i.addEventListener("click",(t=>{t.preventDefault(),e.classList.remove("certificates-list--short")}))}const initFolds=e=>{e.addEventListener("click",(({target:e})=>{const t=e.closest(".folds__button");if(!t)return;t.closest(".folds__item").classList.toggle("folds__item--open"),t.ariaExpanded="true"===t.ariaExpanded?"false":"true"}))};async function initMap(e){const t=[43.895817,56.227675],i=e.querySelector(".map__inner");await ymaps3.ready;const{YMap:s,YMapDefaultSchemeLayer:n,YMapMarker:o,YMapDefaultFeaturesLayer:a}=ymaps3,r=new s(i,{location:{center:t,zoom:12}});r.addChild(new n),r.addChild(new a);const c=new o({coordinates:t},document.querySelector("#map-marker-template").content.querySelector(".map-marker").cloneNode(!0));r.addChild(c)}function initNewsSelection(e){const t=document.querySelector(".cursor-picture"),i=t.querySelector(".cursor-picture__image");e.querySelectorAll(".selection__item-link").forEach((e=>{e.addEventListener("mouseover",(({target:e})=>{const s=e.parentElement.dataset.cursorImage;i.style.backgroundImage=`url("${s}")`,t.classList.remove("cursor-picture--hidden")})),e.addEventListener("mousemove",(e=>{t.style.top=`${e.pageY}px`,t.style.left=`${e.pageX}px`})),e.addEventListener("mouseout",(()=>{t.classList.add("cursor-picture--hidden")}))}))}function initSiteHeader(e,t,i){const s=e.querySelector(".site-header__burger"),n=e.querySelector(".site-header__site-navigation");t(s,(()=>{e.classList.toggle("site-header--expanded"),document.body.classList.toggle("page__body--no-scroll")})),i(n)}function toggleSiteNavigationSubMenu(e,t){e.classList.toggle(t),e.ariaExpanded=e.classList.contains(t)}function initSiteNavigation(e){e.addEventListener("click",(e=>{const t=window.matchMedia("(min-width: 1260px)"),i=e.target.closest(".site-navigation__sub-menu-button");i&&!t.matches&&toggleSiteNavigationSubMenu(i,"site-navigation__sub-menu-button--active")}))}const siteHeaderElement=document.querySelector(".site-header");initSiteHeader(siteHeaderElement,initBurger,initSiteNavigation),document.querySelectorAll(".selection--news").forEach(initNewsSelection),document.querySelectorAll(".contacts__map").forEach(initMap),document.querySelectorAll(".certificates-list").forEach(initCertificatesList),document.querySelectorAll(".folds").forEach(initFolds);